const N=e=>history.state&&history.replaceState({...history.state,...e},""),b=!!document.startViewTransition,S=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),I=e=>location.pathname===e.pathname&&location.search===e.search,H=e=>document.dispatchEvent(new Event(e)),q=()=>H("astro:page-load"),X=()=>{let e=document.createElement("div");e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),e.className="astro-route-announcer",document.body.append(e),setTimeout(()=>{let t=document.title||document.querySelector("h1")?.textContent||location.pathname;e.textContent=t},60)},p="data-astro-transition-persist";let A,g=0;history.state?(g=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):S()&&history.replaceState({index:g,scrollX,scrollY,intraPage:!1},"");const Y=(e,t)=>{let n=!1,r=!1;return(...o)=>{if(n){r=!0;return}e(...o),n=!0,setTimeout(()=>{r&&(r=!1,e(...o)),n=!1},t)}};async function j(e,t){try{const n=await fetch(e,t),r=n.headers.get("content-type")?.replace(/;.*$/,"");return r!=="text/html"&&r!=="application/xhtml+xml"?null:{html:await n.text(),redirected:n.redirected?n.url:void 0,mediaType:r}}catch{return null}}function M(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function B(){let e=Promise.resolve();for(const t of Array.from(document.scripts)){if(t.dataset.astroExec==="")continue;const n=document.createElement("script");n.innerHTML=t.innerHTML;for(const r of t.attributes){if(r.name==="src"){const o=new Promise(s=>{n.onload=s});e=e.then(()=>o)}n.setAttribute(r.name,r.value)}n.dataset.astroExec="",t.replaceWith(n)}return e}function W(e){const t=e.effect;return!t||!(t instanceof KeyframeEffect)||!t.target?!1:window.getComputedStyle(t.target,t.pseudoElement).animationIterationCount==="infinite"}const O=(e,t,n)=>{const r=!I(e);let o=!1;e.href!==location.href&&(t?history.replaceState({...history.state},"",e.href):(history.replaceState({...history.state,intraPage:n},""),history.pushState({index:++g,scrollX:0,scrollY:0},"",e.href)),r&&(scrollTo({left:0,top:0,behavior:"instant"}),o=!0)),e.hash?location.href=e.href:o||scrollTo({left:0,top:0,behavior:"instant"})};function K(e){const t=[];for(const n of e.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${p}="${n.getAttribute(p)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const r=document.createElement("link");r.setAttribute("rel","preload"),r.setAttribute("as","style"),r.setAttribute("href",n.getAttribute("href")),t.push(new Promise(o=>{["load","error"].forEach(s=>r.addEventListener(s,o)),document.head.append(r)}))}return t}async function R(e,t,n,r,o){const s=i=>{const u=i.getAttribute(p),h=u&&e.head.querySelector(`[${p}="${u}"]`);if(h)return h;if(i.matches("link[rel=stylesheet]")){const m=i.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${m}"]`)}return null},f=()=>{const i=document.activeElement;if(i?.closest(`[${p}]`)){if(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement){const u=i.selectionStart,h=i.selectionEnd;return{activeElement:i,start:u,end:h}}return{activeElement:i}}else return{activeElement:null}},c=({activeElement:i,start:u,end:h})=>{i&&(i.focus(),(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement)&&(i.selectionStart=u,i.selectionEnd=h))},l=()=>{const i=document.documentElement,u=[...i.attributes].filter(({name:a})=>(i.removeAttribute(a),a.startsWith("data-astro-")));[...e.documentElement.attributes,...u].forEach(({name:a,value:d})=>i.setAttribute(a,d));for(const a of document.scripts)for(const d of e.scripts)if(!a.src&&a.textContent===d.textContent||a.src&&a.type===d.type&&a.src===d.src){d.dataset.astroExec="";break}for(const a of Array.from(document.head.children)){const d=s(a);d?d.remove():a.remove()}document.head.append(...e.head.children);const h=document.body,m=f();document.body.replaceWith(e.body);for(const a of h.querySelectorAll(`[${p}]`)){const d=a.getAttribute(p),T=document.querySelector(`[${p}="${d}"]`);T&&T.replaceWith(a)}c(m),r?scrollTo(r.scrollX,r.scrollY):O(t,n.history==="replace",!1),H("astro:after-swap")},y=K(e);if(y.length&&await Promise.all(y),o==="animate"){const i=document.getAnimations();document.documentElement.dataset.astroTransitionFallback="old";const u=document.getAnimations().filter(m=>!i.includes(m)&&!W(m));await Promise.all(u.map(m=>m.finished)),l(),document.documentElement.dataset.astroTransitionFallback="new"}else l()}async function F(e,t,n,r){let o;const s=t.href,f={};n.formData&&(f.method="POST",f.body=n.formData);const c=await j(s,f);if(c===null){location.href=s;return}c.redirected&&(t=new URL(c.redirected)),A??=new DOMParser;const l=A.parseFromString(c.html,c.mediaType);if(l.querySelectorAll("noscript").forEach(y=>y.remove()),!l.querySelector('[name="astro-view-transitions-enabled"]')&&!n.formData){location.href=s;return}r||history.replaceState({...history.state,scrollX,scrollY},""),document.documentElement.dataset.astroTransition=e,b?o=document.startViewTransition(()=>R(l,t,n,r)).finished:o=R(l,t,n,r,M());try{await o}finally{await B(),q(),X()}}function k(e,t){if(!S()){location.href=e;return}const n=new URL(e,location.href);location.origin===n.origin&&I(n)&&!t?.formData?O(n,t?.history==="replace",!0):F("forward",n,t??{})}function J(e){if(!S()&&e.state){history.scrollRestoration&&(history.scrollRestoration="manual"),location.reload();return}if(e.state===null){history.scrollRestoration&&(history.scrollRestoration="auto");return}history.scrollRestoration&&(history.scrollRestoration="manual");const t=history.state;if(t.intraPage)scrollTo(t.scrollX,t.scrollY);else{const n=t.index,r=n>g?"forward":"back";g=n,F(r,new URL(location.href),{},t)}}const L=()=>{N({scrollX,scrollY})};{(b||M()!=="none")&&(addEventListener("popstate",J),addEventListener("load",q),"onscrollend"in window?addEventListener("scrollend",L):addEventListener("scroll",Y(L,350),{passive:!0}));for(const e of document.scripts)e.dataset.astroExec=""}const U=new Set,v=new WeakSet;let C,_,P=!1;function Q(e){P||(P=!0,C??=e?.prefetchAll??!1,_??=e?.defaultStrategy??"hover",z(),G(),Z())}function z(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,t=>{w(t.target,"tap")&&E(t.target.href,{with:"fetch"})},{passive:!0})}function G(){let e;document.body.addEventListener("focusin",r=>{w(r.target,"hover")&&t(r)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),D(()=>{for(const r of document.getElementsByTagName("a"))v.has(r)||w(r,"hover")&&(v.add(r),r.addEventListener("mouseenter",t,{passive:!0}),r.addEventListener("mouseleave",n,{passive:!0}))});function t(r){const o=r.target.href;e&&clearTimeout(e),e=setTimeout(()=>{E(o,{with:"fetch"})},80)}function n(){e&&(clearTimeout(e),e=0)}}function Z(){let e;D(()=>{for(const t of document.getElementsByTagName("a"))v.has(t)||w(t,"viewport")&&(v.add(t),e??=ee(),e.observe(t))})}function ee(){const e=new WeakMap;return new IntersectionObserver((t,n)=>{for(const r of t){const o=r.target,s=e.get(o);r.isIntersecting?(s&&clearTimeout(s),e.set(o,setTimeout(()=>{n.unobserve(o),e.delete(o),E(o.href,{with:"link"})},300))):s&&(clearTimeout(s),e.delete(o))}})}function E(e,t){if(!te(e))return;if(U.add(e),(t?.with??"link")==="link"){const r=document.createElement("link");r.rel="prefetch",r.setAttribute("href",e),document.head.append(r)}else fetch(e).catch(r=>{console.log(`[astro] Failed to prefetch ${e}`),console.error(r)})}function te(e){if(!navigator.onLine)return!1;if("connection"in navigator){const t=navigator.connection;if(t.saveData||/(2|3)g/.test(t.effectiveType))return!1}try{const t=new URL(e,location.href);return location.origin===t.origin&&location.pathname!==t.pathname&&!U.has(e)}catch{}return!1}function w(e,t){if(e?.tagName!=="A")return!1;const n=e.dataset.astroPrefetch;return n==="false"?!1:n==null&&C||n===""?t===_:n===t}function D(e){e();let t=!1;document.addEventListener("astro:page-load",()=>{if(!t){t=!0;return}e()})}function ne(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function $(e){return e.dataset.astroReload!==void 0}(b||ne()!=="none")&&(document.addEventListener("click",e=>{let t=e.target;t instanceof Element&&t.tagName!=="A"&&(t=t.closest("a")),!(!t||!(t instanceof HTMLAnchorElement)||$(t)||t.hasAttribute("download")||!t.href||t.target&&t.target!=="_self"||t.origin!==location.origin||e.button!==0||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented)&&(e.preventDefault(),k(t.href,{history:t.dataset.astroHistory==="replace"?"replace":"auto"}))}),document.querySelector('[name="astro-view-transitions-forms"]')&&document.addEventListener("submit",e=>{let t=e.target;if(t.tagName!=="FORM"||$(t))return;const n=t,r=e.submitter,o=new FormData(n);let s=r?.getAttribute("formaction")??n.action??location.pathname;const f=r?.getAttribute("formmethod")??n.method,c={};if(f==="get"){const l=new URLSearchParams(o),y=new URL(s);y.search=l.toString(),s=y.toString()}else c.formData=o;e.preventDefault(),k(s,c)}),Q({prefetchAll:!0}));var re="@vercel/speed-insights",oe="1.0.10",se=()=>{window.si||(window.si=function(...t){(window.siq=window.siq||[]).push(t)})};function ie(){return typeof window<"u"}function ae(){try{const e="production"}catch{}return"production"}function x(){return ae()==="development"}function ce(e,t){if(!e||!t)return e;let n=e;try{for(const[r,o]of Object.entries(t)){const s=Array.isArray(o),f=s?o.join("/"):o,c=s?`...${r}`:r,l=new RegExp(`/${le(f)}(?=[/?#]|$)`);l.test(n)&&(n=n.replace(l,`/[${c}]`))}return n}catch{return e}}function le(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var V="https://va.vercel-scripts.com/v1/speed-insights",fe=`${V}/script.js`,de=`${V}/script.debug.js`,ue="/_vercel/speed-insights/script.js";function he(e={}){var t;if(!ie()||e.route===null)return null;se();const r=!!e.dsn?fe:ue,o=e.scriptSrc||(x()?de:r);if(document.head.querySelector(`script[src*="${o}"]`))return null;e.beforeSend&&((t=window.si)==null||t.call(window,"beforeSend",e.beforeSend));const s=document.createElement("script");return s.src=o,s.defer=!0,s.dataset.sdkn=re+(e.framework?`/${e.framework}`:""),s.dataset.sdkv=oe,e.sampleRate&&(s.dataset.sampleRate=e.sampleRate.toString()),e.route&&(s.dataset.route=e.route),e.endpoint&&(s.dataset.endpoint=e.endpoint),e.dsn&&(s.dataset.dsn=e.dsn),x()&&e.debug===!1&&(s.dataset.debug="false"),s.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${o}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(s),{setRoute:f=>{s.dataset.route=f??void 0}}}customElements.define("vercel-speed-insights",class extends HTMLElement{constructor(){super();try{const t=JSON.parse(this.dataset.props??"{}"),n=JSON.parse(this.dataset.params??"{}"),r=ce(this.dataset.pathname??"",n);he({route:r,...t,framework:"astro",beforeSend:window.speedInsightsBeforeSend})}catch(t){throw new Error(`Failed to parse SpeedInsights properties: ${t}`)}}});
